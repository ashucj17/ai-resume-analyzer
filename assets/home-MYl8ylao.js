import{p as e,a as i,v as m,w as h,x as j}from"./chunk-4WY6JWTD-Dcf9bGPO.js";import{N as p}from"./Navbar-Cn7IyEMP.js";import{u}from"./puter-D9ATOJrq.js";const g=({score:s=75})=>{const a=2*Math.PI*36,r=s/100,t=a*(1-r);return e.jsxs("div",{className:"relative w-[100px] h-[100px]",children:[e.jsxs("svg",{height:"100%",width:"100%",viewBox:"0 0 100 100",className:"transform -rotate-90",children:[e.jsx("circle",{cx:"50",cy:"50",r:36,stroke:"#f0f0f0",strokeWidth:8,fill:"transparent"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"grad",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#10b981"}),e.jsx("stop",{offset:"100%",stopColor:"#06b6d4"})]})}),e.jsx("circle",{cx:"50",cy:"50",r:36,stroke:"url(#grad)",strokeWidth:8,fill:"transparent",strokeDasharray:a,strokeDashoffset:t,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:e.jsx("span",{className:"font-semibold text-sm",children:`${s}/100`})})]})},b=({resume:s})=>{const{fs:o}=u(),[c,n]=i.useState("");return i.useEffect(()=>{(async()=>{if(!s.imagePath)return;const r=await o.read(s.imagePath);if(!r)return;const t=URL.createObjectURL(new Blob([r]));n(t)})()},[s.imagePath]),e.jsxs(m,{to:`/resume/${s.id}`,className:"resume-card animate-in fade-in duration-1000",children:[e.jsxs("div",{className:"resume-card-header",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[s.companyName&&e.jsx("h2",{className:"!text-black font-bold break-words",children:s.companyName}),s.jobTitle&&e.jsx("h3",{className:"text-lg break-words text-gray-500",children:s.jobTitle}),!s.companyName&&!s.jobTitle&&e.jsx("h2",{className:"!text-black font-bold",children:"Resume"})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(g,{score:s.feedback.overallScore})})]}),c&&e.jsx("div",{className:"gradient-border animate-in fade-in duration-1000",children:e.jsx("div",{className:"w-full h-full",children:e.jsx("img",{src:c,alt:"resume",className:"w-full h-[350px] max-sm:h-[200px] object-cover object-top rounded-xl"})})})]})};function y({}){return[{title:"Resumind"},{name:"description",content:"Smart feedback for your dream job!"}]}const w=h(function(){const{auth:o,kv:c}=u(),n=j(),[a,r]=i.useState([]),[t,d]=i.useState(!1);return i.useEffect(()=>{o.isAuthenticated||n("/auth?next=/")},[o.isAuthenticated]),i.useEffect(()=>{(async()=>{d(!0);const x=(await c.list("resume:*",!0))?.map(f=>JSON.parse(f.value));r(x||[]),d(!1)})()},[]),e.jsxs("main",{className:"bg-[url('/images/bg-main.svg')] bg-cover",children:[e.jsx(p,{}),e.jsxs("section",{className:"main-section",children:[e.jsxs("div",{className:"page-heading py-16",children:[e.jsx("h1",{children:"Track Your Applications & Resume Ratings"}),!t&&a?.length===0?e.jsx("h2",{children:"No resumes found. Upload your first resume to get feedback."}):e.jsx("h2",{children:"Review your submissions and check AI-powered feedback."})]}),t&&e.jsx("div",{className:"flex flex-col items-center justify-center",children:e.jsx("img",{src:"/images/resume-scan-2.gif",className:"w-[200px]"})}),!t&&a.length>0&&e.jsx("div",{className:"resumes-section",children:a.map(l=>e.jsx(b,{resume:l},l.id))}),!t&&a?.length===0&&e.jsx("div",{className:"flex flex-col items-center justify-center mt-10 gap-4",children:e.jsx(m,{to:"/upload",className:"primary-button w-fit text-xl font-semibold",children:"Upload Resume"})})]})]})});export{w as default,y as meta};
